11falsenonelisttruestorageNThe use of storageN within these documents indicates that any storage platform can be used.Current available storage platforms:storage1storage2.snapshots vs .snapshotThe .snapshots nomenclature is used for Storage1.The .snapshot nomenclature is used for Storage2.OverviewThis document serves as a guide for current users with storage1 allocations who wish to recover data themselves from their .snapshots or .snapshot folder.Manual Recovery MethodThis method works better for small numbers of files or folders. If you are recovering a lot of data, it may be easier to use the command line instructions later in this document.Navigate to your storage drive.If you already have hidden files enabled, great! You can skip to step 3. Otherwise, your window will look similar to the window below.Mac FinderWindows 10 File ExplorerEnable hidden files and foldersYou will need to enable hidden files to see the .snapshots or .snapshot folder in your window.To enable hidden files on a Mac, press Command + Shift + Period. Your Finder window should now look similar to the window below, with the .snapshots or .snapshot folder visible. To enable hidden files on Windows 10, navigate to the Vie tab and click the checkbox marked Hidden Items. The .snapshots or .snapshot folder should now be visible.Restoring data from the .snapshots or .snapshot backupOpen the .snapshots or .snapshot folder. You should see folders named by day.Viewing the .snapshots or .snapshot folder on MacViewing the .snapshots or .snapshot folder on Windows 10Navigate to the folder corresponding with the most recent day before the files/folders were corrupted or deleted or overwritten, and then into the Active folder.Select the files and folders you want to recover, then copy them (Control + C on Windows, Command + C on macOS).Next, navigate back up to the main directory of your storage drive, and then into the Active folder. Paste the copied files (Control + V on Windows, Command + V on macOS).Your files have been successfully restored!Command Line Recovery MethodWindowsOpen your storage drive and navigate to the .snapshots or .snapshot folder.Locate the file or folder you want to restore, and copy the path name(e.g. for Storage1 \\storage1.ris.wustl.edu\tahan\.snapshots\Thu-tahan_active\Active\file.txt).(e.g. for Storage2 \\storage2.ris.wustl.edu\tahan\.snapshot\Thu-tahan_active\Active\file.txt).Open Command Prompt.For transferring a folder, type:robocopy FOLDERPATH '\\storageN.ris.wustl.edu\DRIVENAME\Active\FOLDERNAME' /E /V /R:5 /W:5 /TBD /MTReplace FOLDERPATH with the path to the folder from step 2, DRIVENAMEwith the name of your storage allocation (e.g. tahan) and FOLDERNAME with the name of the folder you are transferring.You can replace /MT with /MT:# (where # is a number from 1 to 128) to change the number of files robocopy processes simultaneously. /MT defaults to 8, so setting it to a number above 8 may increase transfer speed if you have a sufficiently powerful system and connection.For transferring a file, type:copy FILEPATH '\\storageN.ris.wustl.edu\DRIVENAME\Active'Replace FILEPATH with the path to the file from step 2, and DRIVENAME with the name of your storage allocation (e.g. tahan).MacOpen your storage drive and navigate to the .snapshots folder.Locate the file or folder you want to restore, and copy the path name.(e.g. for Storage1 \\storage1.ris.wustl.edu\tahan\.snapshots\Thu-tahan_active\Active\file.txt).(e.g. for Storage2 \\storage2.ris.wustl.edu\tahan\.snapshot\Thu-tahan_active\Active\file.txt).Open Terminal.In Terminal, type:rsync -avh PATH /Volumes/DRIVENAME/ActiveReplace PATH with the path from step 2, and DRIVENAME with the name of your storage allocation (e.g. tahan).Globus Recovery Method for Storage1Snapshots can also be recovered using Globus. Please see the Globus documentation for direction on accessing your storage allocation using the Globus interface. In the PATH field, enter in the path to your storage allocation, (e.g. /storageN/fs1/${STORAGE_ALLOCATION}). Enable the hidden files and folder by clicking the Show Hidden Items button, highlighted in red below.The .snapshots or .snapshot folder will now be visible. Navigate to the file or folder you’d like to recover. Click the Transfer or Sync to... button to open a new destination pane to the right. Naviage to the Active folder of your storage allocation. In the example below, a Python script will be restored to the Active folder.Click the Start button to begin your transfer. Your transfer job is now submitted to Globus. You will receive an email once the transfer is complete and the restored file will be available in the Active folder.